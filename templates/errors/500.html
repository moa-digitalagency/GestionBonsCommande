{% extends "errors/base_error.html" %}

{% block title %}Erreur Interne - BTP Commande{% endblock %}

{% block error_content %}
<div class="max-w-4xl w-full text-center space-y-8 animate-fade-in">
    <!-- Visual -->
    <div class="relative w-64 h-64 mx-auto flex items-center justify-center">
        <dotlottie-player src="https://lottie.host/9e49339e-26bf-466d-9781-79946890d656/5f5Xy9iQ4r.json" background="transparent" speed="1" class="lottie-300" loop autoplay>
            <div class="text-6xl font-bold text-slate-200">500</div>
        </dotlottie-player>
    </div>

    <!-- Title & Copy -->
    <div class="space-y-4">
        <h1 class="text-4xl font-bold text-slate-900 tracking-tight">Erreur Interne du Serveur</h1>
        <p class="text-lg text-slate-600 max-w-xl mx-auto">
            Quelque chose s'est mal passé de notre côté. Nos équipes ont été notifiées.
        </p>
    </div>

    <!-- The 3 Pillars Strategy -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12 text-left">

        <!-- Pillar 1: The Guide -->
        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow flex flex-col">
            <div class="w-12 h-12 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center mb-4">
                <i data-lucide="refresh-cw" class="w-6 h-6"></i>
            </div>
            <h3 class="font-semibold text-slate-900 mb-2">Réessayer</h3>
            <p class="text-sm text-slate-500 mb-4 flex-grow">Parfois, un simple rafraîchissement de la page suffit.</p>
            <button onclick="window.location.reload()" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 w-full transition-colors">
                Actualiser la page
            </button>
        </div>

        <!-- Pillar 2: The Conciergerie -->
        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow flex flex-col">
            <div class="w-12 h-12 bg-green-50 text-green-600 rounded-lg flex items-center justify-center mb-4">
                <i data-lucide="message-circle" class="w-6 h-6"></i>
            </div>
            <h3 class="font-semibold text-slate-900 mb-2">Signaler le problème</h3>
            <p class="text-sm text-slate-500 mb-4 flex-grow">Aidez-nous à résoudre ce problème plus rapidement.</p>
            <a href="https://wa.me/{{ whatsapp_number }}" target="_blank" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 w-full transition-colors">
                <i data-lucide="phone" class="w-4 h-4 mr-2"></i>
                Support WhatsApp
            </a>
        </div>

        <!-- Pillar 3: The Lead Magnet -->
        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow relative overflow-hidden flex flex-col">
            <div class="w-12 h-12 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center mb-4">
                <i data-lucide="home" class="w-6 h-6"></i>
            </div>
            <h3 class="font-semibold text-slate-900 mb-2">Retour à l'accueil</h3>
            <p class="text-sm text-slate-500 mb-4 flex-grow">Revenez en lieu sûr en attendant la résolution.</p>
            <a href="{{ url_for('main.index') }}" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-purple-700 bg-purple-100 hover:bg-purple-200 w-full transition-colors">
                Retour à l'accueil
            </a>
        </div>

    </div>
</div>
{% endblock %}
